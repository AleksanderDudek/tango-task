(this["webpackJsonptango-task"]=this["webpackJsonptango-task"]||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(11),i=n.n(a),s=(n(96),n(18)),l=n(79),o=(n(67),n(166)),j=n(170),d=n(169),u=n(162),b=n(167),h=n(168),O=n(86),x=n(38),g=n(2);function f(e,t){if(0==e.length)return"None";for(var n=[],r=0;r<e.length;r++){var c=e[r].match(/\d+/g);n.push({houseName:"House "+c,houseUrl:c[0].toString()})}return n.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.b,{to:{pathname:"/house/"+e.houseUrl},children:e.houseName},e.houseName+e.houseUrl)})}))}function m(e,t){var n=e.length>0?e:"",r=t.length>0?t.join(", "):"";return n+(e.length>0&&""!==t[0]?", ":"")+r}function p(e,t){if(0==e.length)return"Yes";if(0==t.length)return"Missing correct data";var n=e.match(/\d+/g),r=t.match(/\d+/g);return n&&r?"No, died at "+(n.map(Number)[0]-r.map(Number)[0])+" years old":"Missing correct data"}var v=function(e){return Object(g.jsx)(u.a,{id:"charactersTable",component:O.a,children:Object(g.jsxs)(o.a,{"aria-label":"simple table",children:[Object(g.jsx)(b.a,{children:Object(g.jsxs)(h.a,{children:[Object(g.jsx)(d.a,{children:"Nr"},"Index"),Object(g.jsx)(d.a,{children:"Character"},"Character"),Object(g.jsx)(d.a,{align:"right",children:"Alive"},"Alive"),Object(g.jsx)(d.a,{align:"right",children:"Gender"},"Gender"),Object(g.jsx)(d.a,{align:"right",children:"Culture"},"Culture"),Object(g.jsx)(d.a,{align:"right",children:"Allegiances"},"Allegiances"),Object(g.jsx)(d.a,{align:"right",children:"# of Books"},"Books")]})}),Object(g.jsx)(j.a,{children:e.characters.map((function(t,n){return Object(g.jsxs)(h.a,{children:[Object(g.jsx)(d.a,{children:n+1},"Index"+n),Object(g.jsx)(d.a,{component:"th",scope:"row",children:m(t.name,t.aliases)},t.name+n+n),Object(g.jsx)(d.a,{align:"right",children:p(t.died,t.born)},t.name+n+n+"alive"),Object(g.jsx)(d.a,{align:"right",children:(c=t.gender,c&&c.length>0?c:"Unknown")},t.name+n+n+"gender"),Object(g.jsx)(d.a,{align:"right",children:(r=t.culture,0==r.length?"Unknown":r)},t.name+n+n+"culture"),Object(g.jsx)(d.a,{align:"right",children:f(t.allegiances,e.houses)},t.name+n+n+"houses"),Object(g.jsx)(d.a,{align:"right",children:t.books.length+t.povBooks.length},t.name+n+n+"books")]},t.name+n);var r,c}))})]})})},k=n(174),y=n(175),w=n(176),C=n(54),F=n.n(C),P="https://www.anapioficeandfire.com/api/characters",N="https://www.anapioficeandfire.com/api/houses",S="?page=",U="&pageSize=",T="&gender=",G="&culture=";function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=P+S+e.toString()+U+t.toString()+T+n+G+r;return F.a.get(c)}var A=n(171),B=n(172),E=n(173),M=n(182),D=n(61),I=n.n(D),L=n(62),R=n.n(L);function V(e){return""!==e[0]}var Y=function(e){var t=e.currentHouse;return Object(g.jsx)(A.a,{children:Object(g.jsxs)(B.a,{children:[Object(g.jsx)(E.a,{color:"textSecondary",gutterBottom:!0,variant:"h5",component:"h2",id:"houseName",children:t.name||""}),Object(g.jsxs)(E.a,{variant:"h5",component:"h3",id:"region",children:["Region: ",t.region||""]}),Object(g.jsx)("br",{}),Object(g.jsxs)(E.a,{color:"textSecondary",id:"coat",children:["Coat of arms: ",t.coatOfArms||""]}),Object(g.jsx)("br",{}),Object(g.jsxs)(E.a,{variant:"body2",component:"p",id:"words",children:["Words:",Object(g.jsx)("br",{}),t.words?t.words:"No words"]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{id:"titles",children:["Titles:",Object(g.jsx)("br",{}),V(t.titles)?t.titles.map((function(e){return Object(g.jsx)(M.a,{label:e,color:"primary"},e)})):"None titles"]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{id:"seats",children:[Object(g.jsx)("br",{}),"Seats:",Object(g.jsx)("br",{}),V(t.seats)?t.seats.map((function(e){return Object(g.jsx)(M.a,{label:e,color:"secondary"},e)})):"None seats"]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{id:"diedOut",children:["Has died out: ",t.diedOut.length>0?Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(g.jsx)(I.a,{color:"primary"}),Object(g.jsx)("span",{children:'"Yes"'})]}):Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(g.jsx)(R.a,{color:"primary"}),Object(g.jsx)("span",{children:'"No"'})]})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{id:"overlord",children:["Has overlord: ",t.overlord.length>0?Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(g.jsx)(I.a,{color:"primary"}),Object(g.jsx)("span",{children:'"Yes"'})]}):Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(g.jsx)(R.a,{color:"primary"}),Object(g.jsx)("span",{children:'"No"'})]})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{id:"cadetBranches",children:["Number of cadet branches:",Object(g.jsx)("br",{}),t.cadetBranches.length]})]})})};var z,J=function(e){var t=Object(r.useState)(!0),n=Object(s.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(),l=Object(s.a)(i,2),o=l[0],j=l[1];return Object(r.useEffect)((function(){(function(e){var t=N+"/".concat(e);return F.a.get(t)})(e.match.params.apiUrl).then((function(e){return e.data})).then((function(e){j(e)})).then((function(e){a(!1)}))}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k.a,{position:"sticky",color:"default",children:Object(g.jsx)(y.a,{children:Object(g.jsx)(x.b,{to:"/tango-task/",children:"Go back"})})}),c?Object(g.jsx)("div",{className:"progressContainer",children:Object(g.jsx)(w.a,{})}):Object(g.jsx)(Y,{currentHouse:o})]})},K=n(12);!function(e){e.Male="Male",e.Female="Female",e.Unknown="Unknown"}(z||(z={}));var W=n(84),q=n(177),Q=n(183);var X=function(e){var t,n=function(t){e.setCulture(t)};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(q.a,{children:Object(g.jsx)(Q.a,Object(W.a)({id:"outlined-basic",label:"Culture",variant:"outlined",placeholder:"Type culture...",defaultValue:e.culture,onKeyUp:function(e){return function(e){clearTimeout(t),t=setTimeout(n,500,e.target.value)}(e)},onKeyDown:function(e){clearTimeout(t)}},e.cultureError&&{error:!0,helperText:"This culture doesn't exist."}))})})},Z=n(185),$=n(181),_=n(186);var ee=function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(q.a,{variant:"filled",children:[Object(g.jsx)(Z.a,{id:"demo-simple-select-filled-label",children:"Gender"}),Object(g.jsxs)($.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:e.genderFilter,defaultValue:e.genderFilter,onChange:function(t){e.setGenderFilter(t.target.value)},children:[Object(g.jsx)(_.a,{value:z.Female,children:z.Female}),Object(g.jsx)(_.a,{value:z.Male,children:z.Male}),Object(g.jsx)(_.a,{value:z.Unknown,children:z.Unknown})]})]})})};var te=function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(q.a,{variant:"filled",children:[Object(g.jsx)(Z.a,{id:"demo-simple-select-filled-label",children:"Age"}),Object(g.jsxs)($.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:e.perPage,defaultValue:e.perPage,onChange:function(t){e.setPerPage(t.target.value)},children:[Object(g.jsx)(_.a,{value:10,children:"10 results"}),Object(g.jsx)(_.a,{value:25,children:"25 results"}),Object(g.jsx)(_.a,{value:50,children:"50 results"})]})]})})};n(122);var ne=function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(k.a,{position:"sticky",color:"default",children:Object(g.jsx)(y.a,{children:Object(g.jsxs)("div",{className:"filtersContainer",children:[Object(g.jsx)("div",{className:"filterContainer",children:Object(g.jsx)(te,{setPerPage:e.setPerPage,perPage:e.perPage})}),Object(g.jsx)("div",{className:"filterContainer",children:Object(g.jsx)(ee,{genderFilter:e.genderFilter,setGenderFilter:e.setGenderFilter})}),Object(g.jsx)("div",{className:"filterContainer",children:Object(g.jsx)(X,{culture:e.culture,setCulture:e.setCulture,cultureError:e.cultureError})})]})})})})},re=n(180),ce=n(126);n(123);var ae=function(e){function t(t){var n=new URL(t),r=Number(n.searchParams.get("page"));e.setCurrentPage(r)}return Object(g.jsx)("div",{className:"progressContainer",children:Object(g.jsxs)(re.a,{color:"primary","aria-label":"outlined primary button group",children:[Object(g.jsx)(ce.a,{onClick:function(){return t(e.linkHeaders.first)},children:"First page"}),Object(g.jsx)(ce.a,{onClick:function(){return t(e.linkHeaders.prev)},children:"Previous page"}),Object(g.jsxs)(ce.a,{disabled:!0,children:[" ",e.currentPage," "]}),Object(g.jsx)(ce.a,{onClick:function(){return t(e.linkHeaders.next)},children:"Next page"}),Object(g.jsx)(ce.a,{onClick:function(){return t(e.linkHeaders.last)},children:"Last page"})]})})},ie=n(63);function se(e){var t=e.split("link:"),n={};t=(e=2==t.length?t[1]:e).split(",");var r,c=Object(l.a)(t);try{for(c.s();!(r=c.n()).done;){var a=r.value,i=/<([^>]+)>;\s+rel="([^"]+)"/gi.exec(a);n[i[2]]=i[1]}}catch(d){c.e(d)}finally{c.f()}if(!n.prev){var s=new URL(n.next),o=Number(s.searchParams.get("page"));if(2==o)n.prev=n.last;else{var j=new URL(n.next);j.searchParams.set("page",(o-2).toString()),n.prev=j}}return n.next||(n.next=n.first),n}var le=function(e){var t=Object(r.useState)(!0),n=Object(s.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)([]),l=Object(s.a)(i,2),o=l[0],j=l[1],d=Object(r.useState)([]),u=Object(s.a)(d,2),b=u[0],h=u[1],O=Object(r.useState)(10),f=Object(s.a)(O,2),m=f[0],p=f[1],k=Object(r.useState)(z.Unknown),y=Object(s.a)(k,2),C=y[0],P=y[1],N=Object(r.useState)(1),S=Object(s.a)(N,2),U=S[0],T=S[1],G=Object(r.useState)(),A=Object(s.a)(G,2),B=A[0],E=A[1],M=Object(r.useState)(""),D=Object(s.a)(M,2),I=D[0],L=D[1],R=Object(r.useState)(!1),V=Object(s.a)(R,2),Y=V[0],W=V[1];return Object(r.useEffect)((function(){Promise.all([H().then((function(e){var t=se(e.headers.link);return E(t),W(!1),e.data}),(function(e){return W(!0),b})).then((function(e){h(e)})),F.a.get("https://www.anapioficeandfire.com/api/houses").then((function(e){return e.data}),(function(e){return o})).then((function(e){j(e)}))]).then((function(e){a(!1)}))}),[]),Object(r.useEffect)((function(){a(!0),H(U,m,C,I).then((function(e){var t=se(e.headers.link);return W(!1),E(t),e.data}),(function(e){return W(!0),b})).then((function(e){h(e)})).then((function(e){a(!1)})).catch((function(e){W(!0),a(!1)}))}),[C,I,m,U]),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{style:{fontFamily:"GameOfThrones",fontSize:20,textAlign:"center"},children:Object(g.jsx)("span",{children:"Game of Thrones - Tango task"})}),Object(g.jsx)(ie.Online,{children:Object(g.jsx)(x.a,{basename:"/tango-task",children:Object(g.jsxs)(K.c,{children:[Object(g.jsx)(K.a,{path:"/house/:apiUrl",component:J}),Object(g.jsx)(K.a,{path:"/",children:Object(g.jsx)("div",{children:c?Object(g.jsx)("div",{className:"progressContainer",id:"progressSpinnerApp",children:Object(g.jsx)(w.a,{})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ne,{setPerPage:p,perPage:m,genderFilter:C,setGenderFilter:P,culture:I,setCulture:L,cultureError:Y}),Object(g.jsx)(v,{characters:b,houses:o}),Object(g.jsx)(ae,{linkHeaders:B,currentPage:U,setCurrentPage:T})]})})})]})})}),Object(g.jsx)(ie.Offline,{children:"Pardon mua, but you are offline. Please do check your internet connection before procceeding."})]})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,187)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(le,{})}),document.getElementById("root")),oe()},67:function(e,t,n){},96:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.961ba82e.chunk.js.map